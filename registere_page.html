<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>12시간 전야제</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="module">
      // Firebase SDK 라이브러리 가져오기
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
      import { getFirestore } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
      import {
        collection,
        addDoc,
      } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
      import { getDocs } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";

      // Firebase 구성 정보 설정
      const firebaseConfig = {
        apiKey: "AIzaSyApxjU3BurTH6XuImY9_oUn3kk603w8PKc",
        authDomain: "test-8e09e.firebaseapp.com",
        projectId: "test-8e09e",
        storageBucket: "test-8e09e.appspot.com",
        messagingSenderId: "436344741102",
        appId: "1:436344741102:web:2bae246b9e85471b7867ff",
        measurementId: "G-KP8QWKQ6WF",
      };

      // Firebase 인스턴스 초기화
      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      $("#registerebtn").click(async function () {
        let imageUrl = $("#imageUrl").val();
        let memberName = $("#memberName").val();
        let tmi = $("#tmi").val();

        let doc = {
          imageUrl: imageUrl,
          memberName: memberName,
          tmi: tmi,
        };

        await addDoc(collection(db, "members"), doc);
        alert("등록완료");
      });
    </script>

    <style>
      .mycontent {
        font-size: 35px;
        font-weight: 900;
      }

      .mysubcontent {
        background-color: beige;
        width: fit-content;
        font-size: 25px;
        font-weight: 500;
      }
    </style>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
  </head>

  <body
    style="
      display: flex;
      flex-direction: column;
      max-width: fit-content;
      margin: auto;
    "
  >
    <p style="text-align: center; font-size: 100px; color: rgb(223, 184, 111)">
      12시간 전야제
    </p>

    <div class="my_registere_box">
      <div class="form-floating mb-3">
        <input
          type="email"
          class="form-control"
          id="imageUrl"
          placeholder="사진 이미지 주소"
        />
        <label for="registereInput">사진 이미지 주소</label>
      </div>
      <div class="form-floating mb-3">
        <input
          type="email"
          class="form-control"
          id="memberName"
          placeholder="이름"
        />
        <label for="registereInput">이름</label>
      </div>
      <div class="form-floating mb-3">
        <input type="email" class="form-control" id="tmi" placeholder="TMI" />
        <label for="registereInput">TMI</label>
      </div>
      <button id="registerebtn" class="btn btn-primary">등록하기</button>
    </div>

    <br />

    <br />
    <div style="text-align: center">
      <a style="font-size: 18px" href="member_introduction_page.html">
        <button type="button" style="width: 200px; height: 70px">
          멤버 소개 페이지
        </button>
      </a>
    </div>
  </body>
</html>
